
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wedding Invitation</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Allison&family=Great+Vibes&family=Montserrat:wght@300;400;600;700&family=Pinyon+Script&family=Playfair+Display:wght@400;700&family=Georgia:ital@0;1&display=swap" rel="stylesheet">

<style>
    /* =========================================
       1. THEME SETTINGS (CHANGE COLORS HERE)
       ========================================= */
    :root {
        /* Colors */
        --primary-dark: #043927;   /* Emerald Green */
        --accent-gold: #d4af37;    /* Gold */
        --soft-pink: #f4cfe0;      /* Blush/Pink */
        --paper-bg: #fcfaf7;       /* Off-white Paper */
        --text-grey: #4a4a4a;      /* Body Text */
        --white: #ffffff;

        /* Fonts */
        --font-script: 'Great Vibes', cursive;
        --font-fancy: 'Pinyon Script', cursive;
        --font-serif: 'Playfair Display', serif;
        --font-body: 'Montserrat', sans-serif;
        --font-classic: 'Georgia', serif;
    }

    /* Global Reset */
    body, html {
        margin: 0; padding: 0;
        background-color: var(--paper-bg);
        font-family: var(--font-body);
        color: var(--text-grey);
        width: 100%;
        overflow-x: hidden;
    }

    /* --- UTILITY CLASSES --- */
    .text-script { font-family: var(--font-script); }
    .text-fancy { font-family: var(--font-fancy); }
    .text-serif { font-family: var(--font-serif); }
    .text-classic { font-family: var(--font-classic); }
    
    .color-gold { color: var(--accent-gold); }
    .color-dark { color: var(--primary-dark); }
    .color-pink { color: var(--soft-pink); }
    
    .paper-texture {
        background-color: var(--paper-bg);
        background-image: url("https://www.transparenttextures.com/patterns/handmade-paper.png");
    }

    .reveal-on-scroll {
        opacity: 0; transform: translateY(30px); transition: all 1.5s ease-out;
    }
    .reveal-on-scroll.is-visible {
        opacity: 1; transform: translateY(0);
    }
    
    /* Reveal Text Animation */
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .reveal-text { opacity: 0; }
    .show-site .reveal-text { animation: fadeInUp 1.5s ease-out forwards; }
    .show-site .delay-1 { animation-delay: 0.1s; }
    .show-site .delay-2 { animation-delay: 0.3s; }
    .show-site .delay-3 { animation-delay: 0.5s; }

    /* --- HERO SECTION --- */
    #landing-hero {
        height: 100dvh; width: 100%; position: relative; overflow: hidden;
        display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
        padding-top: 5dvh;
        clip-path: inset(0 0 0 0);
        background-size: cover; background-position: center top; background-repeat: no-repeat;
    }
    .hero-overlay {
        position: absolute; top: 0; left: 0; width: 100%; height: 40%;
        background: linear-gradient(to bottom, rgba(4, 57, 39, 0.8) 0%, rgba(4, 57, 39, 0) 100%);
        z-index: 1;
    }
    .hero-text-container {
        position: relative; text-align: center; z-index: 2; max-width: 90vw;
    }
    .hero-names {
        font-family: var(--font-script);
        font-size: clamp(50px, 8vw, 100px);
        color: var(--accent-gold);
        line-height: 1.1;
        text-shadow: 2px 2px 12px rgba(0,0,0,0.6);
    }
    .hero-date {
        font-family: var(--font-classic); letter-spacing: 4px; font-size: 14px;
        text-transform: uppercase; color: var(--white); margin: 5px 0;
    }
    
    /* Scroll Bounce */
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-5px);} 60% {transform: translateY(-3px);} }

    /* --- INVITATION CARD SECTION --- */
    .formal-card-outer {
        position: absolute; top: -10px; left: -10px; right: -10px; bottom: -10px;
        background-color: var(--primary-dark); border: 1px solid var(--accent-gold);
        border-radius: 2px; z-index: 0; box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }
    .formal-card-inner {
        background: var(--white); border: 1px solid var(--accent-gold);
        padding: 15px; position: relative; z-index: 1; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .formal-card-content {
        border: 1.5px solid var(--accent-gold); padding: 70px 40px; position: relative;
    }
    .corner-decor {
        position: absolute; width: 30px; height: 30px; border-color: var(--accent-gold); border-style: solid;
    }
    .tl { top: 12px; left: 12px; border-width: 2px 0 0 2px; }
    .tr { top: 12px; right: 12px; border-width: 2px 2px 0 0; }
    .bl { bottom: 12px; left: 12px; border-width: 0 0 2px 2px; }
    .br { bottom: 12px; right: 12px; border-width: 0 2px 2px 0; }

    /* --- ENTOURAGE SECTION --- */
    .entourage-container {
        background-color: var(--paper-bg); max-width: 900px; margin: 0 auto;
        border-radius: 4px; box-shadow: 0 30px 70px rgba(0,0,0,0.5);
        border: 1px solid var(--accent-gold); overflow: hidden; position: relative;
    }
    .role-label {
        font-family: var(--font-body); font-size: 10px; letter-spacing: 3px;
        text-transform: uppercase; color: var(--accent-gold); font-weight: 700;
    }
    .role-name {
        font-family: var(--font-serif); font-size: clamp(16px, 4vw, 19px);
        color: var(--primary-dark); line-height: 1.8; margin-top: 15px;
    }
    .entourage-grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 30px; }
    .entourage-flex-3 { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; }

    /* --- VENUE CARDS --- */
    .venue-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 80px 40px; align-items: stretch;
    }
    .venue-card {
        background: var(--white); border: 1px solid var(--accent-gold);
        padding: 12px; position: relative; z-index: 1; display: flex; flex-direction: column; height: 100%;
    }
    .venue-img {
        width: 100%; height: 280px; object-fit: cover; display: block; border: 1px solid var(--soft-pink);
    }
    .btn-maps {
        display: inline-block; padding: 12px 25px; border: 1px solid var(--primary-dark);
        color: var(--primary-dark); text-decoration: none; font-family: var(--font-body);
        font-size: 10px; letter-spacing: 2px; font-weight: 700; transition: all 0.3s ease;
    }
    .btn-maps:hover { background-color: var(--primary-dark); color: var(--white); }

    /* --- TIMELINE --- */
    #timeline { position: relative; overflow: hidden; padding: 100px 20px; background-color: var(--paper-bg); }
    .timeline-container { max-width: 1000px; margin: 0 auto; position: relative; }
    .timeline-container::before {
        content: ''; position: absolute; top: 0; bottom: 0; left: 50%; width: 2px;
        background: var(--primary-dark); transform: translateX(-50%); opacity: 0.3; z-index: 0;
    }
    .timeline-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 60px; position: relative; z-index: 1; }
    .timeline-content-side, .timeline-image-side { width: 49%; position: relative; }
    .timeline-image-side img { max-width: 180px; max-height: 180px; object-fit: contain; }
    .center-dot {
        position: absolute; left: 50%; top: 50%; width: 16px; height: 16px;
        background: var(--accent-gold); border: 4px solid var(--soft-pink);
        border-radius: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 0 5px var(--paper-bg); z-index: 10;
    }
    .timeline-row.normal { flex-direction: row; }
    .timeline-row.normal .timeline-content-side { text-align: right; padding-right: 30px; }
    .timeline-row.normal .timeline-image-side { justify-content: flex-start; padding-left: 30px; }
    .timeline-row.reverse { flex-direction: row-reverse; }
    .timeline-row.reverse .timeline-content-side { text-align: left; padding-left: 30px; }
    .timeline-row.reverse .timeline-image-side { justify-content: flex-end; padding-right: 30px; }
    
    .event-time {
        font-family: var(--font-body);
        color: var(--accent-gold);
        font-size: 13px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase;
        margin-bottom: 5px; display: block;
    }

    /* --- ENVELOPE STYLES --- */
    #envelope-wrapper {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
        display: flex; justify-content: center; align-items: center;
        z-index: 9999; background-color: #f4f1ea;
        transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    #envelope-wrapper.wrapper-exit { opacity: 0; pointer-events: none; }
    .envelope {
        position: relative; width: 90vw; height: 60vw; max-width: 600px; max-height: 400px; perspective: 1500px; z-index: 10;
    }
    .letter {
        position: absolute; bottom: 0; left: 15%; width: 70%; height: 70%; background: white;
        z-index: 2; border: 1px solid var(--accent-gold); display: flex; flex-direction: column;
        justify-content: center; align-items: center; text-align: center;
        transform: translateY(0); opacity: 0; visibility: hidden; transition: 1.5s;
    }
    .open .letter { visibility: visible; opacity: 1; transform: translateY(-50%); }
    
    /* Envelope Flap Animation */
    @keyframes flap-bob { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-3px); } }
    .flap-container { animation: flap-bob 4s ease-in-out infinite; }
    .open .flap-container { animation: none !important; transform: rotateX(160deg); z-index: 1 !important; }

    /* --- RSVP STYLES --- */
    .rsvp-card {
        background: #fff; padding: 40px; max-width: 600px; margin: 0 auto;
        border: 1px solid var(--accent-gold); box-shadow: 0 15px 45px rgba(4, 57, 39, 0.15);
        display: flex; flex-direction: column; text-align: left;
    }
    .rsvp-card h2 { text-align: center; font-family: var(--font-script); color: var(--primary-dark); font-size: 3rem; margin-bottom: 20px; }
    .rsvp-card input, .rsvp-card select, .rsvp-card textarea {
        width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 4px;
        font-family: var(--font-body); background: var(--paper-bg); color: var(--primary-dark); box-sizing: border-box;
    }
    .rsvp-card button {
        background-color: var(--primary-dark); color: white; font-family: var(--font-body);
        text-transform: uppercase; letter-spacing: 2px; padding: 15px 30px; border: none; cursor: pointer;
        width: 100%; transition: background 0.3s ease;
    }
    .rsvp-card button:hover { background-color: var(--accent-gold); }

    /* --- MUSIC BUTTON --- */
    @keyframes music-pulse { 0% { transform: scale(1); } 50% { transform: scale(1.4); } 100% { transform: scale(1); } }
    .pulsing { display: inline-block !important; animation: music-pulse 1.2s infinite ease-in-out; }

    /* --- REMINDERS GRID --- */
    .reminders-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 60px 40px;
    }
    .reminder-item p {
        font-family: var(--font-classic); font-size: 14px; color: var(--primary-dark); line-height: 1.8; text-align: justify; text-justify: inter-word;
    }
    .reminder-num {
        font-family: var(--font-body); font-size: 30px; color: var(--accent-gold); font-weight: 700; opacity: 0.4; display: block;
    }
    .reminder-title {
        font-family: var(--font-body); font-size: 13px; letter-spacing: 2px; text-transform: uppercase; color: var(--primary-dark); font-weight: 700; margin-top: 5px;
    }

    /* --- MOBILE RESPONSIVENESS --- */
    @media (max-width: 768px) {
        .timeline-container::before { left: 50%; }
        .timeline-content-side, .timeline-image-side { width: 50%; }
        .timeline-image-side img { max-width: 70px; max-height: 70px; }
        .timeline-content-side h3 { font-size: 1.1rem; }
        .timeline-content-side p { font-size: 0.7rem; }
        .timeline-row.normal .timeline-content-side { padding-right: 15px; }
        .timeline-row.reverse .timeline-content-side { padding-left: 15px; }
        .open .letter { transform: translateY(-60%); }
        .hero-names { font-size: 60px; }
        .rsvp-card { padding: 20px; }
    }
    
    /* Utility */
    .hidden { display: none !important; }
</style>
</head>
<body>

<div id="envelope-wrapper">
    <div class="envelope">
        <div class="envelope-back" style="position:absolute; width:100%; height:100%; background: url('6938.jpg') center/cover; filter: brightness(0.9);"></div>
        
        <div class="letter">
            <div class="letter-content">
                <h2 style="font-family: var(--font-script); color: var(--primary-dark); margin: 0; font-size: 2.3rem;" class="ui-couple-initials">M & J</h2>
                <p style="font-family: var(--font-body); font-size: 0.8rem; margin: 10px 0;">Experience with music?</p>
                <div style="display:flex; gap:10px; justify-content:center;">
                    <button type="button" onclick="handleMusic(true, event)" style="padding:8px 20px; background:var(--primary-dark); color:var(--accent-gold); border:none; cursor:pointer;">YES</button>
                    <button type="button" onclick="handleMusic(false, event)" style="padding:8px 20px; background:white; border:1px solid var(--primary-dark); cursor:pointer;">NO</button>
                </div>
            </div>
        </div>

        <div class="envelope-pocket-main" style="position:absolute; width:100%; height:100%; z-index:3; background: url('6938.jpg') center/cover; clip-path: polygon(0 0, 50% 60%, 100% 0, 100% 100%, 0 100%);"></div>
        
        <div class="flap-container" style="position:absolute; top:0; left:0; width:100%; height:60%; z-index:10; transform-origin:top; transition: transform 1.2s;">
            <div class="top-flap" style="width:100%; height:100%; background: url('6938.jpg') center/cover; clip-path: polygon(0 0, 100% 0, 50% 100%);"></div>
        </div>
        
        <div id="envelope-label" style="position: absolute; bottom: 5%; left: 0; width: 100%; text-align: center; z-index: 1000; font-family: var(--font-body); font-size: 0.7rem; text-transform: uppercase; letter-spacing: 5px;">Fetching invitation...</div>
        
        <div class="seal-bob-wrapper" style="position: absolute; top: 58%; left: 50%; width: 18%; min-width: 65px; z-index: 100; transform: translateX(-50%); cursor: pointer;">
            <div id="seal" onclick="openInvitation()">
                <img src="seal.png" alt="Seal" style="width:100%; display:block;">
            </div>
        </div>
    </div>
</div>

<audio id="bg-music" loop><source src="" id="ui-music-src" type="audio/mpeg"></audio>

<div id="main-site" style="display:none;">
    
    <section id="landing-hero" style="background-image: url('1.jpg');">
        <div class="hero-overlay"></div>
        <div class="hero-text-container">
            <h1 class="hero-names reveal-text delay-1">
                <span class="ui-bride">Mariel</span> 
                <span style="font-family: var(--font-classic); font-size: 0.4em; letter-spacing: 5px; color: var(--soft-pink); vertical-align: middle;">&</span> 
                <span class="ui-groom">Jasper</span>
            </h1>
            <div class="reveal-text delay-2" style="width: 80px; height: 1px; background: var(--accent-gold); margin: 15px auto;"></div>
            <p class="hero-date reveal-text delay-2 ui-full-date">NOVEMBER 6, 2027</p>
            <p class="reveal-text delay-3" style="font-family: var(--font-classic); font-style: italic; color: var(--soft-pink); font-size: 14px; margin: 0;">Save the Date</p>
            
            <div class="reveal-text delay-3" style="margin-top: 20px; color: white; font-family: var(--font-body); letter-spacing: 2px; font-size: 0.9rem;">
                <span id="months">0</span> MO <span id="days">0</span> D <span id="hours">0</span> H <span id="minutes">0</span> M
            </div>
        </div>
        
        <div style="position: absolute; bottom: 10dvh; right: 20px; text-align: right; z-index: 99; color: var(--accent-gold); text-transform: uppercase; font-family: var(--font-classic);">
            <div style="font-size: 14px; letter-spacing: 3px; font-weight: bold;">
                Scroll to RSVP <span style="display:block; font-size: 28px; margin-top: 2px; animation: bounce 2s infinite;">↓</span>
            </div>
        </div>
    </section>

    <section id="formal-invitation" class="paper-texture" style="padding: 100px 20px; text-align: center; position: relative;">
        <div class="reveal-on-scroll" style="max-width: 750px; margin: 0 auto; position: relative;">
            <div class="formal-card-outer"></div>
            <div class="formal-card-inner">
                <div class="formal-card-content">
                    <div class="corner-decor tl"></div><div class="corner-decor tr"></div>
                    <div class="corner-decor bl"></div><div class="corner-decor br"></div>

                    <p style="font-family: var(--font-classic); letter-spacing: 5px; font-size: 11px; text-transform: uppercase; color: var(--accent-gold); margin-bottom: 35px; font-weight: 700;">Together with their families</p>
                    <h2 class="text-script color-dark" style="font-size: clamp(55px, 12vw, 95px); margin: 0; line-height: 1.1;">
                        <span class="ui-bride">Mariel</span> & <span class="ui-groom">Jasper</span>
                    </h2>
                    <div style="margin: 35px 0; color: var(--soft-pink); font-size: 35px; line-height: 1;">❦</div>
                    <p class="text-classic color-dark" style="font-size: 19px; line-height: 2.0; font-style: italic; max-width: 80%; margin: 0 auto;">
                        request the honor of your presence as they exchange marriage vows and celebrate the beginning of their life together
                    </p>

                    <div style="margin-top: 55px; padding-top: 35px; border-top: 1px solid var(--soft-pink); display: inline-block; width: 100%;">
                        <p class="role-label" style="font-size: 14px; letter-spacing: 6px; margin: 0;">Saturday</p>
                        <p class="text-serif color-dark ui-full-date" style="font-size: clamp(24px, 5vw, 36px); margin: 15px 0; letter-spacing: 4px; font-weight: 700;">NOVEMBER 06, 2027</p>
                        <p class="role-label ui-wedding-time" style="font-size: 14px; letter-spacing: 6px; margin: 0;">At Two O'Clock in the Afternoon</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="entourage" style="padding: 100px 15px; background-color: var(--primary-dark); text-align: center;">
        <div class="entourage-container reveal-on-scroll paper-texture">
            <img src="flower.png" alt="Floral Top" style="position: absolute; top: -4vw; left: 0; width: 100%; transform: rotate(180deg) scale(1.05); z-index: 5; pointer-events: none;">
            
            <div style="padding: 160px 20px 140px 20px; position: relative; z-index: 2;">
                <div style="margin-bottom: 60px;">
                    <h2 class="text-fancy color-gold" style="font-size: clamp(40px, 10vw, 65px); margin-bottom: 10px; line-height: 1.1;">The Entourage</h2>
                    <div style="width: 50px; height: 1px; background: var(--accent-gold); margin: 0 auto; opacity: 0.5;"></div>
                </div>
                
                <div style="margin-bottom: 60px;">
                    <div class="entourage-grid-2">
                        <div><span class="role-label">Parents of the Bride</span><p id="Parents_Bride" class="role-name"></p></div>
                        <div><span class="role-label">Parents of the Groom</span><p id="Parents_Groom" class="role-name"></p></div>
                    </div>
                </div>

                <div style="margin-bottom: 60px;">
                     <span class="role-label" style="font-size: 11px; letter-spacing: 4px; display: block; margin-bottom: 25px;">Principal Sponsors</span>
                     <div class="entourage-grid-2">
                        <p id="Principal_Sponsors_Male" class="role-name"></p>
                        <p id="Principal_Sponsors_Female" class="role-name"></p>
                     </div>
                </div>

                <div style="margin-bottom: 60px;">
                    <div class="entourage-grid-2">
                        <div><span class="role-label">Maid of Honor</span><p id="Maid_of_Honor" class="role-name"></p></div>
                        <div><span class="role-label">Best Man</span><p id="Best_Man" class="role-name"></p></div>
                    </div>
                </div>

                 <div style="margin-bottom: 60px;">
                    <span class="role-label" style="font-size: 11px; letter-spacing: 4px; display: block; margin-bottom: 30px;">Secondary Sponsors</span>
                    <div class="entourage-flex-3">
                        <div style="flex: 1 1 200px;">
                            <span class="role-label" style="font-weight: 800;">To Light Our Path</span>
                            <p id="Sponsors_Candle" class="role-name" style="font-size: 17px; margin-top: 5px;"></p>
                        </div>
                        <div style="flex: 1 1 200px;">
                            <span class="role-label" style="font-weight: 800;">To Clothe Us As One</span>
                            <p id="Sponsors_Veil" class="role-name" style="font-size: 17px; margin-top: 5px;"></p>
                        </div>
                        <div style="flex: 1 1 200px;">
                            <span class="role-label" style="font-weight: 800;">To Bind Us Together</span>
                            <p id="Sponsors_Cord" class="role-name" style="font-size: 17px; margin-top: 5px;"></p>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 60px;">
                    <div class="entourage-grid-2">
                        <div><span class="role-label">Bridesmaids</span><p id="Bridesmaids" class="role-name"></p></div>
                        <div><span class="role-label">Groomsmen</span><p id="Groomsmen" class="role-name"></p></div>
                    </div>
                </div>

                <div style="margin-bottom: 60px;">
                    <div class="entourage-flex-3">
                        <div style="flex: 1 1 140px;"><span class="role-label">Ring Bearer</span><p id="Ring_Bearer" class="role-name"></p></div>
                        <div style="flex: 1 1 140px;"><span class="role-label">Coin Bearer</span><p id="Coin_Bearer" class="role-name"></p></div>
                        <div style="flex: 1 1 140px;"><span class="role-label">Bible Bearer</span><p id="Bible_Bearer" class="role-name"></p></div>
                    </div>
                </div>
                <div><span class="role-label">Flower Girls</span><p id="Flower_Girls" class="role-name"></p></div>

            </div>
            
            <img src="flower.png" alt="Floral Footer" style="position: absolute; bottom: -4vw; left: 0; width: 100%; transform: scale(1.05); z-index: 5; pointer-events: none;">
        </div>
    </section>

    <section id="celebration" style="padding: 50px 20px 100px 20px; background-color: #fdf0f5; text-align: center;">
        <div class="reveal-on-scroll" style="max-width: 1000px; margin: 0 auto;">
            <h2 class="text-fancy color-dark" style="font-size: clamp(45px, 8vw, 60px); margin-bottom: 60px;">The Celebration</h2>

            <div class="venue-grid">
                <div style="position: relative;">
                    <div style="position: absolute; top: 15px; left: 15px; right: -15px; bottom: -15px; background-color: var(--primary-dark); border: 1px solid var(--accent-gold); border-radius: 2px; z-index: 0;"></div>
                    <div class="venue-card">
                        <img src="church1.jpg" class="venue-img">
                        <div style="padding: 30px 15px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between;">
                            <div>
                                <span class="role-label">The Ceremony</span>
                                <div style="min-height: 80px; display: flex; align-items: center; justify-content: center;">
                                    <h3 class="text-serif color-dark ui-church-name" style="font-size: 24px; margin: 0; line-height: 1.2;">Santuario de San Antonio Parish</h3> 
                                </div>
                                <p class="text-classic color-dark ui-church-addr" style="font-size: 15px; font-style: italic; margin-bottom: 25px;">
                                    3117 McKinley Rd, Forbes Park, Makati City
                                </p>
                            </div>
                            <div>
                                <a href="#" target="_blank" class="btn-maps ui-church-map">GET DIRECTIONS</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="position: relative;">
                    <div style="position: absolute; top: 15px; left: 15px; right: -15px; bottom: -15px; background-color: var(--primary-dark); border: 1px solid var(--accent-gold); border-radius: 2px; z-index: 0;"></div>
                    <div class="venue-card">
                        <img src="bl.jpeg" class="venue-img">
                        <div style="padding: 30px 15px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between;">
                            <div>
                                <span class="role-label">The Reception</span>
                                <div style="min-height: 80px; display: flex; align-items: center; justify-content: center;">
                                    <h3 class="text-serif color-dark ui-reception-name" style="font-size: 24px; margin: 0; line-height: 1.2;">The Blue Leaf Mckinley</h3> 
                                </div>
                                <p class="text-classic color-dark ui-reception-addr" style="font-size: 15px; font-style: italic; margin-bottom: 15px;">
                                    100 Park Avenue, McKinley Hill Village, Taguig
                                </p>
                                <p class="role-label" style="color: var(--accent-gold); margin-bottom: 25px;">Valet Parking Available</p>
                            </div>
                            <div>
                                <a href="#" target="_blank" class="btn-maps ui-reception-map">GET DIRECTIONS</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="timeline">
        <div class="reveal-on-scroll" style="max-width: 1000px; margin: 0 auto; text-align: center;">
            <h2 class="text-fancy color-dark" style="font-size: clamp(45px, 8vw, 60px); margin-bottom: 60px;">The Wedding Timeline</h2>
        </div>
        <div class="timeline-container">
            <div class="timeline-row normal reveal-on-scroll">
                <div class="timeline-content-side">
                    <span class="event-time">01:00 PM</span>
                    <h3 class="text-serif color-dark" style="font-size: 2.2rem; margin: 0 0 10px 0;">The Ceremony</h3>
                    <p class="text-classic">Santuario de San Antonio Parish<br>McKinley Rd, Makati</p>
                </div>
                <div class="center-dot"></div>
                <div class="timeline-image-side"><img src="church.png"></div>
            </div>
            <div class="timeline-row reverse reveal-on-scroll">
                <div class="timeline-content-side">
                    <span class="event-time">04:00 PM</span>
                    <h3 class="text-serif color-dark" style="font-size: 2.2rem; margin: 0 0 10px 0;">Cocktail Hour</h3>
                    <p class="text-classic">The Blue Leaf Foyer<br>A time for toasts & conversations</p>
                </div>
                <div class="center-dot"></div>
                <div class="timeline-image-side"><img src="cocktail.png"></div>
            </div>
            <div class="timeline-row normal reveal-on-scroll">
                <div class="timeline-content-side">
                    <span class="event-time">05:00 PM</span>
                    <h3 class="text-serif color-dark" style="font-size: 2.2rem; margin: 0 0 10px 0;">Dinner & Reception</h3>
                    <p class="text-classic">The Blue Leaf Main Hall<br>Grand Entrance of the Couple</p>
                </div>
                <div class="center-dot"></div>
                <div class="timeline-image-side"><img src="reception.png"></div>
            </div>
            <div class="timeline-row reverse reveal-on-scroll">
                <div class="timeline-content-side">
                    <span class="event-time">07:00 PM</span>
                    <h3 class="text-serif color-dark" style="font-size: 2.2rem; margin: 0 0 10px 0;">The After Party</h3>
                    <p class="text-classic">Dancing Under the Stars<br>Drinks & Late Night Snacks</p>
                </div>
                <div class="center-dot"></div>
                <div class="timeline-image-side"><img src="party.png"></div>
            </div>
        </div>
    </section>

    <section style="padding: 100px 20px; background-color: var(--white); color: var(--primary-dark); text-align: center;">
        <div class="reveal-on-scroll" style="max-width: 1000px; margin: 0 auto;">
            <h2 class="text-script" style="font-size: clamp(45px, 8vw, 60px); color: var(--primary-dark); margin-bottom: 50px;">The Journey to Forever</h2>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 60px;">
                <div style="flex: 1; min-width: 300px;">
                    <img src="2.jpg" style="width: 100%; border: 1px solid var(--accent-gold); padding: 10px; background: #fff; box-shadow: 15px 15px 0px var(--primary-dark);">
                </div>
                <div style="flex: 1; min-width: 300px; margin-top: 80px;">
                    <img src="3.jpg" style="width: 100%; border: 1px solid var(--accent-gold); padding: 10px; background: #fff; box-shadow: -15px 15px 0px var(--soft-pink);">
                </div>
            </div>
        </div>
    </section>

    <section style="padding: 100px 0; background-color: var(--primary-dark); text-align: center;">
        <div class="reveal-on-scroll" style="max-width: 800px; margin: 0 auto; padding: 0 20px;">
            <h2 class="text-script" style="font-size: 40px; color: var(--accent-gold); margin-bottom: 30px;">Our Story in Motion</h2>
            <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border: 1px solid var(--accent-gold);">
                <iframe src="https://www.youtube.com/embed/8RjcJXikhrk?rel=0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <section style="padding: 80px 20px; background: white; text-align: center;">
        <div style="max-width: 500px; margin: 0 auto;">
            <div id="loading" class="hidden">Checking invitation...</div>
            <div id="content" class="hidden"></div>
            <div id="error-msg" class="hidden rsvp-card"><p>Guest not found. Please use the original link.</p></div>
        </div>
    </section>

    <section id="reminders" style="padding: 80px 20px; background-color: #fdf0f5;">
        <div class="reveal-on-scroll" style="max-width: 1100px; margin: 0 auto;">
            <h2 class="text-fancy color-dark" style="font-size: clamp(45px, 8vw, 60px); margin-bottom: 80px; text-align: center;">Important Reminders</h2>
            <div class="reminders-grid">
                <div class="reminder-item">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <span class="reminder-num">01</span>
                        <h3 class="reminder-title">RSVP</h3>
                    </div>
                    <p>Kindly respond by <strong>October 1st, 2027</strong>. To ensure a seamless dining experience for all our guests, we are unable to accommodate late RSVPs or any changes to the guest list after this date.</p>
                </div>
                <div class="reminder-item">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <span class="reminder-num">02</span>
                        <h3 class="reminder-title">Strictly by Invitation</h3>
                    </div>
                    <p>We love your little ones, but due to venue restrictions, this will be an <strong>adults-only affair</strong>. We are unable to accommodate children or additional guests not specifically named on the invitation.</p>
                </div>
                <div class="reminder-item">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <span class="reminder-num">03</span>
                        <h3 class="reminder-title">Punctuality</h3>
                    </div>
                    <p>The ceremony begins promptly at <strong>1:00 PM</strong>. We request that you arrive by 12:30 PM to be seated comfortably. The church doors will be closed once the entourage enters.</p>
                </div>
                <div class="reminder-item">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <span class="reminder-num">04</span>
                        <h3 class="reminder-title">Dress Code</h3>
                    </div>
                    <p>Formal Attire. We would love for you to dress in our celebration palette. Please see our dress code section for details. We kindly ask that guests reserve wearing white for the bride.</p>
                </div>
                <div class="reminder-item">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <span class="reminder-num">05</span>
                        <h3 class="reminder-title">Parking & Logistics</h3>
                    </div>
                    <p>For your convenience and ease, complimentary valet parking is available at the main entrance of the Blue Leaf McKinley. Please allow extra time for drop-off.</p>
                </div>
                <div class="reminder-item">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <span class="reminder-num">06</span>
                        <h3 class="reminder-title">The Hashtag</h3>
                    </div>
                    <p>Share the love! We would love to see the celebration through your eyes. Please tag your photos on social media with our official hashtag: <strong>#MarielGetsJasper</strong></p>
                </div>
            </div>
        </div>
    </section>

    <section id="gifting" style="padding: 80px 20px; text-align: center; background-color: #ffffff;">
        <div class="reveal-on-scroll" style="max-width: 1100px; margin: 0 auto;">
            <h2 class="text-fancy color-dark" style="font-size: clamp(45px, 8vw, 60px); margin-bottom: 20px;">Gifting</h2>
            <div style="width: 50px; height: 1px; background: var(--accent-gold); margin: 0 auto 40px auto;"></div>
            <p class="text-classic" style="font-size: 16px; color: #4a4a4a; line-height: 1.8; font-style: italic; max-width: 600px; margin: 0 auto 60px auto;">
                Your presence at our wedding is the greatest gift of all. However, should you wish to honor us with a gift, a contribution to our future home would be warmly appreciated.
            </p>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 30px;">
                <div style="flex: 1; min-width: 280px; max-width: 320px;">
                    <div style="aspect-ratio: 1 / 1; width: 100%; border: 1.5px solid var(--accent-gold); background: #fff; padding: 20px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                        <img src="gcash.jpg" style="width: 100%; height: 100%; object-fit: contain;">
                    </div>
                    <span class="role-label">GCash</span><p class="text-body" style="font-weight: 600; color: var(--primary-dark);">Mariel or Jasper</p>
                </div>
                <div style="flex: 1; min-width: 280px; max-width: 320px;">
                    <div style="aspect-ratio: 1 / 1; width: 100%; border: 1.5px solid var(--accent-gold); background: #fff; padding: 20px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                        <img src="maya.jpg" style="width: 100%; height: 100%; object-fit: contain;">
                    </div>
                    <span class="role-label">Maya</span><p class="text-body" style="font-weight: 600; color: var(--primary-dark);">Mariel or Jasper</p>
                </div>
                 <div style="flex: 1; min-width: 280px; max-width: 320px;">
                    <div style="aspect-ratio: 1 / 1; width: 100%; border: 1.5px solid var(--accent-gold); background: #fff; padding: 20px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                        <img src="maribank.png" style="width: 100%; height: 100%; object-fit: contain;">
                    </div>
                    <span class="role-label">MariBank</span><p class="text-body" style="font-weight: 600; color: var(--primary-dark);">Mariel or Jasper</p>
                </div>
            </div>
        </div>
    </section>

    <section id="footer" style="padding: 40px 20px 30px 20px; background-color: var(--primary-dark); color: white; text-align: center;">
        <div class="reveal-on-scroll" style="max-width: 800px; margin: 0 auto;">
            <h2 class="text-fancy" style="font-size: clamp(32px, 5vw, 45px); color: white; margin-bottom: 15px;">
                We can't wait to celebrate with you <span style="color: var(--soft-pink); font-size: 0.8em;">❦</span>
            </h2>
            <div style="margin-bottom: 20px;">
                <p class="role-label" style="margin-bottom: 4px;">Questions?</p>
                <p class="text-classic" style="font-size: 14px; color: #e0e0e0;">
                    <span id="ui-coord-name">Coordinator Name</span> | <span id="ui-coord-num">0917 123 4567</span>
                </p>
            </div>
            <div style="border-top: 1px solid rgba(212, 175, 55, 0.3); padding-top: 15px; margin-top: 15px;">
                <p class="role-label" style="font-size: 9px; margin: 0;">#<span id="ui-hashtag">MarielGetsJasper</span> | 2027</p>
            </div>
        </div>
    </section>

</div> <button id="musicBtn" onclick="toggleMusic()" style="position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background-color: var(--primary-dark); border: 1px solid var(--accent-gold); border-radius: 50%; z-index: 99999; cursor: pointer; display: none; align-items: center; justify-content: center; color: var(--accent-gold); font-size: 24px; opacity: 0; transition: all 0.5s ease;">
    <span id="musicIcon">♪</span>
</button>

<script>
/* =========================================
   1. EDIT WEDDING DETAILS HERE (THE CONFIG)
   ========================================= */
const WEDDING_CONFIG = {
    bride: "Mariel",
    groom: "Jasper",
    date: "November 6, 2027",
    time: "2:00 PM",
    
    // Venues
    churchName: "Santuario de San Antonio Parish",
    churchAddress: "3117 McKinley Rd, Forbes Park, Makati City",
    churchMapLink: "https://www.google.com/maps/search/?api=1&query=Santuario+de+San+Antonio+Parish+Forbes+Park",
    
    receptionName: "The Blue Leaf Mckinley",
    receptionAddress: "100 Park Avenue, McKinley Hill Village, Taguig",
    receptionMapLink: "https://www.google.com/maps/search/?api=1&query=The+Blue+Leaf+McKinley+Taguig",
    
    // Music & Footer
    musicFile: "bgm.mp3",
    hashtag: "MarielGetsJasper",
    coordName: "Coordinator Name",
    coordNum: "0917 123 4567",
    
    // Google Apps Script URL (Paste your Deployment URL here)
    webAppUrl: "https://script.google.com/macros/s/AKfycbzrtwb3bnwahRGg94f6Eu3Qj1zsfGw3hga7Y5a23q293gI60mFJ818kGw5zbYtuKTBn/exec"
};

/* =========================================
   2. INITIALIZE SITE (DO NOT EDIT BELOW)
   ========================================= */
document.addEventListener('DOMContentLoaded', () => {
    // 1. Inject Config Data into HTML
    injectText('.ui-bride', WEDDING_CONFIG.bride);
    injectText('.ui-groom', WEDDING_CONFIG.groom);
    injectText('.ui-couple-initials', `${WEDDING_CONFIG.bride.charAt(0)} & ${WEDDING_CONFIG.groom.charAt(0)}`);
    injectText('.ui-full-date', WEDDING_CONFIG.date.toUpperCase());
    injectText('.ui-wedding-time', `AT ${WEDDING_CONFIG.time} IN THE AFTERNOON`.toUpperCase());
    
    injectText('.ui-church-name', WEDDING_CONFIG.churchName);
    injectText('.ui-church-addr', WEDDING_CONFIG.churchAddress);
    setHref('.ui-church-map', WEDDING_CONFIG.churchMapLink);
    
    injectText('.ui-reception-name', WEDDING_CONFIG.receptionName);
    injectText('.ui-reception-addr', WEDDING_CONFIG.receptionAddress);
    setHref('.ui-reception-map', WEDDING_CONFIG.receptionMapLink);
    
    injectText('#ui-hashtag', WEDDING_CONFIG.hashtag);
    injectText('#ui-coord-name', WEDDING_CONFIG.coordName);
    injectText('#ui-coord-num', WEDDING_CONFIG.coordNum);
    
    const audio = document.getElementById('ui-music-src');
    if(audio) audio.src = WEDDING_CONFIG.musicFile;
    document.getElementById('bg-music').load();

    // 2. Start Logic
    const urlParams = new URLSearchParams(window.location.search);
    const token = urlParams.get('id');
    if (token) checkGuestStatus(token);
    else {
        const lbl = document.getElementById('envelope-label');
        if(lbl) { lbl.innerHTML = `With love, to <span>Guest</span>`; lbl.style.opacity = 1; }
    }

    // 3. Scroll Animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('is-visible'); });
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));
    setupMusicObserver();

    // 4. Load Entourage & Start Countdown
    loadEntourage();
    setInterval(updateCountdown, 1000);
    updateCountdown();
});

// Helper Functions
function injectText(selector, text) {
    document.querySelectorAll(selector).forEach(el => el.textContent = text);
}
function setHref(selector, link) {
    document.querySelectorAll(selector).forEach(el => el.href = link);
}

// =======================
// RSVP & GUEST LOGIC
// =======================
let guestData = null;

function checkGuestStatus(token) {
    fetch(`${WEDDING_CONFIG.webAppUrl}?id=${encodeURIComponent(token)}`)
    .then(res => res.json())
    .then(data => {
        guestData = data;
        if (data && data.name) {
            const label = document.getElementById('envelope-label');
            label.innerHTML = `With love, to <span>${data.name}</span>`;
            label.style.opacity = 1;
            data.isDone ? showDoneView(data) : showMainForm(token);
        }
    }).catch(err => console.error(err));
}

function showMainForm() {
    const content = document.getElementById('content');
    content.classList.remove('hidden');
    const canP1 = String(guestData.allowPlusOne).toLowerCase() === "true";
    content.innerHTML = `
         <div class="rsvp-card">
             <h2>Hi ${guestData.name},</h2>
             <label>Will you attend?</label>
             <select id="attending-select" onchange="togglePlusOne(${canP1})">
                 <option value="Yes">Yes, I'll be there!</option>
                 <option value="No">No, I can't make it</option>
             </select>
             <div id="p1-area"></div>
             <label>Email Address (for Confirmation)</label>
             <input type="email" id="guest-email" value="${guestData.email || ''}">
             <label>Have a message to the couple?</label>
             <textarea id="guest-note" style="width:100%; height:100px; padding:10px; border-radius:5px; border:1px solid #ddd;">${guestData.note || ''}</textarea>
             <button onclick="submitRSVP()" id="submit-btn">Confirm RSVP</button>
         </div>`;
    togglePlusOne(canP1);
}

function togglePlusOne(canP1) {
    const area = document.getElementById('p1-area');
    const attending = document.getElementById('attending-select').value;
    if (attending === "Yes" && canP1) {
        area.innerHTML = `<label>Bringing a plus one?</label><select id="bringing-p1" onchange="toggleP1Name()"><option value="No">No</option><option value="Yes">Yes</option></select><div id="p1-name-wrapper"></div>`;
    } else { area.innerHTML = ''; }
}

function toggleP1Name() {
    const wrapper = document.getElementById('p1-name-wrapper');
    if (document.getElementById('bringing-p1').value === "Yes") {
        wrapper.innerHTML = '<label>Plus One Name</label><input type="text" id="plus-one-name">';
    } else { wrapper.innerHTML = ''; }
}

function submitRSVP() {
    const btn = document.getElementById('submit-btn');
    btn.innerHTML = "Saving..."; btn.disabled = true;
    const p1NameInput = document.getElementById('plus-one-name');
    const payload = {
        token: guestData.id || new URLSearchParams(window.location.search).get('id'), 
        name: guestData.name,
        email: document.getElementById('guest-email').value,
        attending: document.getElementById('attending-select').value,
        plusOneName: p1NameInput ? p1NameInput.value : "None",
        note: document.getElementById('guest-note').value
    };
    fetch(WEDDING_CONFIG.webAppUrl, { method: "POST", mode: "no-cors", body: JSON.stringify(payload) }).then(() => {
        showDoneView({ ...guestData });
    });
}

function showDoneView(data) {
    const content = document.getElementById('content');
    content.classList.remove('hidden');
    content.innerHTML = `
         <div class="rsvp-card" style="text-align:center;">
             <h2>Thank you!</h2>
             <p>RSVP recorded for ${data.name}.</p>
             <button onclick="showMainForm()">Edit Response</button>
         </div>`;
}

// =======================
// ENTOURAGE LOGIC
// =======================
function loadEntourage() {
    fetch(`${WEDDING_CONFIG.webAppUrl}?action=getEntourage`)
    .then(res => res.json())
    .then(data => {
        Object.keys(data).forEach(roleID => {
            const el = document.getElementById(roleID);
            if (el) {
                let text = data[roleID].trim();
                if (text.includes(',')) el.innerHTML = text.split(',').map(n => n.trim()).join('<br>');
                else if (text.includes('&')) {
                    let names = text.split('&');
                    el.innerHTML = names[0].trim() + '<br>' + names[1].trim();
                } else el.innerHTML = text;
            }
        });
    });
}

// =======================
// MUSIC & UI LOGIC
// =======================
function handleMusic(play, event) {
    if (event) { event.preventDefault(); event.stopPropagation(); }
    const mBtn = document.getElementById('musicBtn');
    const mIcon = document.getElementById('musicIcon');
    const audio = document.getElementById('bg-music');
    if (audio) audio.currentTime = 4;
    
    if (mBtn) {
        mBtn.style.display = 'flex';
        if (play && audio) {
            mBtn.style.backgroundColor = "var(--accent-gold)";
            mBtn.style.color = "var(--primary-dark)";
            mIcon.classList.add("pulsing");
            audio.volume = 1.0;
            audio.play().catch(e => console.error(e));
        } else {
             mBtn.style.backgroundColor = "var(--primary-dark)";
             mBtn.style.color = "var(--accent-gold)";
             mIcon.classList.remove("pulsing");
        }
    }
    document.getElementById('envelope-wrapper').classList.add('wrapper-exit');
    setTimeout(() => {
        document.getElementById('main-site').style.display = 'block';
        document.body.classList.add('show-site');
        document.body.style.overflow = 'auto';
    }, 100);
    setTimeout(() => { document.getElementById('envelope-wrapper').style.display = "none"; }, 800);
}

function toggleMusic() {
    var audio = document.getElementById("bg-music");
    var btn = document.getElementById("musicBtn");
    var icon = document.getElementById("musicIcon");
    if (audio.paused) {
        audio.play();
        btn.style.backgroundColor = "var(--accent-gold)";
        btn.style.color = "var(--primary-dark)";
        icon.classList.add("pulsing");
    } else {
        audio.pause();
        btn.style.backgroundColor = "var(--primary-dark)";
        btn.style.color = "var(--accent-gold)";
        icon.classList.remove("pulsing");
    }
}

function setupMusicObserver() {
    var btn = document.getElementById("musicBtn");
    var heroSection = document.querySelector('#landing-hero');
    if (!btn || !heroSection) return;
    var observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (!entry.isIntersecting) {
                btn.style.opacity = "1";
                btn.style.pointerEvents = "auto";
            } else {
                btn.style.opacity = "0";
                btn.style.pointerEvents = "none";
            }
        });
    }, { threshold: 0.1 });
    observer.observe(heroSection);
}

function openInvitation() {
    document.getElementById('envelope-wrapper').classList.add('open');
    const seal = document.getElementById('seal');
    seal.style.opacity = "0";
    seal.style.pointerEvents = "none";
}

// =======================
// COUNTDOWN LOGIC
// =======================
function updateCountdown() {
    const wedding = new Date(WEDDING_CONFIG.date + " " + WEDDING_CONFIG.time).getTime();
    const now = new Date().getTime();
    const diff = wedding - now;
    if (diff <= 0) return;
    
    document.getElementById("months").textContent = Math.floor(diff / (1000 * 60 * 60 * 24 * 30.44));
    document.getElementById("days").textContent = Math.floor((diff % (1000 * 60 * 60 * 24 * 30.44)) / (1000 * 60 * 60 * 24));
    document.getElementById("hours").textContent = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    document.getElementById("minutes").textContent = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
}
</script>
</body>
</html>
